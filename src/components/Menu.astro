---
import MenuLink from '~components/Menu/Link.astro'
import LinkHome from '~components/Menu/Link/Home.astro'

const mode = Astro.url.pathname == '/' ? 'home' : 'away'

const containerProps = {
  id: 'menu',
  'class:list': ['container', mode],
}
---

<div {...containerProps}>
  <div class="wrap">
    <div class="logo">
      <LinkHome />
    </div>
    <div class="links">
      <MenuLink name="about">
        <div class="desktop">About</div>
        <div class="mobile">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            viewBox="0 0 40 40"
            ><path
              d="M20,40c-2.8,0-5.4-0.5-7.8-1.6c-2.4-1-4.6-2.5-6.4-4.3s-3.3-3.9-4.3-6.3c-1-2.4-1.6-5-1.6-7.8s0.5-5.4,1.6-7.8 s2.5-4.5,4.3-6.3s3.9-3.2,6.4-4.3S17.3,0,20,0s5.3,0.5,7.8,1.6s4.5,2.5,6.3,4.3s3.3,3.9,4.3,6.3c1,2.4,1.6,5,1.6,7.8 s-0.5,5.4-1.6,7.8c-1,2.4-2.5,4.5-4.3,6.3s-3.9,3.2-6.3,4.3C25.4,39.5,22.8,40,20,40z"
            ></path><path
              d="M20,35.6c4.3,0,8-1.5,11-4.5s4.6-6.7,4.6-11c0-0.8-0.1-1.6-0.2-2.4c-0.1-0.8-0.3-1.4-0.5-2.1 c-0.6,0.2-1.3,0.3-2,0.4c-0.7,0-1.4,0.1-2.3,0.1c-3,0-5.8-0.6-8.4-1.8s-4.9-3-6.8-5.2c-1,2.4-2.5,4.6-4.4,6.4 c-1.9,1.8-4.1,3.3-6.6,4.3v0.3c0,4.3,1.5,8,4.5,11S15.7,35.6,20,35.6z"
              fill="#FFFFFF"></path><path
              d="M14.2,24.7c-0.8,0-1.4-0.3-1.9-0.8c-0.5-0.5-0.8-1.1-0.8-1.9s0.3-1.4,0.8-1.9c0.5-0.5,1.1-0.8,1.9-0.8 c0.8,0,1.4,0.3,1.9,0.8c0.5,0.5,0.8,1.1,0.8,1.9s-0.3,1.4-0.8,1.9C15.6,24.4,15,24.7,14.2,24.7z M25.8,24.7c-0.8,0-1.4-0.3-1.9-0.8 c-0.5-0.5-0.8-1.1-0.8-1.9s0.3-1.4,0.8-1.9c0.5-0.5,1.1-0.8,1.9-0.8c0.8,0,1.4,0.3,1.9,0.8c0.5,0.5,0.8,1.1,0.8,1.9 s-0.3,1.4-0.8,1.9C27.1,24.4,26.5,24.7,25.8,24.7z"
            ></path></svg
          >
        </div>
      </MenuLink>
      <MenuLink name="resume">
        <div class="desktop">Resume</div>
        <div class="mobile">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="41.4"
            height="48"
            viewBox="0 0 34.5 40"
            ><path
              d="M4.4,40c-1.2,0-2.3-0.4-3.1-1.3S0,36.8,0,35.6V4.5c0-1.2,0.4-2.3,1.3-3.1S3.2,0,4.4,0h19.1l11,11v24.6 c0,1.2-0.4,2.3-1.3,3.1S31.2,40,30,40H4.4z"
            ></path><path
              d="M21.1,13.2V4.5H4.4v31.1H30V13.2H21.1z"
              fill="#FFFFFF"></path><path
              d="M8.7,31.9h17.1v-3.3H8.7L8.7,31.9z M8.7,25.8h17.1v-3.3H8.7L8.7,25.8z M8.7,19.6h17.1v-3.3H8.7L8.7,19.6z M8.7,13.4h8.6 v-3.3H8.7L8.7,13.4z"
            ></path></svg
          >
        </div>
      </MenuLink>
    </div>
  </div>
</div>

<style lang="scss">
  @import '~styles/mixins';

  @mixin adjust-position {
    position: relative;
    left: -0.375rem;
  }

  .container {
    @include container;
  }

  .container.home {
    @include small-up {
      position: absolute;
      width: 100%;
      left: 0;
      top: 0;
    }
  }

  @each $key, $value in $heroes {
    .container.home[data-loop='#{$key}'] {
      @include small-down {
        background-color: map-get($value, banner);
      }
    }
  }

  .container.away {
    @include small-down {
      background-color: $c-body-banner;
    }
  }

  .wrap {
    @include wrap;
    @include flex-links;
    justify-content: center;

    @include medium-down {
      @include adjust-position;
    }

    @include small-up {
      justify-content: space-between;
    }
  }

  .links {
    @include flex-links;
  }

  .link {
    display: block;

    @include small-up {
      font-size: 1.5rem;
      line-height: 1.2;
    }
  }

  div.link {
    @include small-down {
      @include focus-link;
    }
  }

  .about-link {
    @include small-down {
      border-radius: 50%;
    }

    @include small-up {
      border-radius: $border-radius-sm;
      padding: $padding-link;
    }
  }

  a.about-link {
    @include small-down {
      @include focus {
        @include focus-link;
      }
    }

    @include small-up {
      background-color: black;
      text-decoration: none;
      color: white;

      @include focus {
        @include focus-about(black, white);
      }
    }
  }

  div.about-link {
    @include small-up {
      @include focus-about(black, white);
    }
  }

  .resume-link {
    @include small-down {
      border-radius: $border-radius-sm;
    }

    @include small-up {
      border: 0.125rem dotted transparent;
      padding: 0.375rem;
    }
  }

  a.resume-link {
    @include small-down {
      @include focus {
        @include focus-link;
      }
    }

    @include small-up {
      @include focus {
        @include focus-resume;
      }
    }
  }

  div.resume-link {
    @include small-up {
      @include focus-resume;
    }
  }

  .desktop {
    display: flex;

    @include small-down {
      display: none;
    }
  }

  .mobile {
    display: flex;

    @include small-up {
      display: none;
    }
  }
</style>
